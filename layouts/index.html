
{{ define "main" }}

<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-no-background">
        {{ $paginator := .Paginate (where .Pages "Type" "posts") }}
        {{ range $paginator.Pages }}
        {{ if eq .Type "posts" }}
        {{if and (.IsPage) (.Params.date)}}
        <a href="{{.Permalink}}" class="a-block">
            <div class="post-item-wrapper">
                <article class="post-item post-item-no-divider">
                    <div class="post-item-info-wrapper">
                        <header class="post-item-title">
                            <h1>{{.Title}}</h1>
                        </header>
                        <div class="post-item-summary">
                            {{.Description}}
                        </div>
                        <div class="post-item-meta">
                            {{ .PublishDate.Format "2006-01-02" }}
                        </div>
                    </div>
                    {{ $featured_image := .Params.featured_image }}
                    {{ if $featured_image }}
                    <div class="post-item-image-wrapper">
                        <div class="post-item-image"
                             style="background-image: url('{{$featured_image | relLangURL }}')"></div>
                    </div>
                    {{ end }}
                </article>
            </div>
            {{ end }}
            {{ end }}
            {{ end }}
        </a>
    </div>
</div>
{{ end }}
